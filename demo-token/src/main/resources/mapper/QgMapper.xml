<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--你接口的包名是com.abc.dao,接口名是NameMapper.java，那么你的mapper.xml的namespace应该是com.abc.dao.NameMapper-->
<mapper namespace="com.example.demo.mapper.QgMapper">
    <!--<resultMap id="BaseResultMap" type="com.example.demo.model.Qg">-->
        <!--&lt;!&ndash;-->
          <!--WARNING - @mbg.generated-->
          <!--This element is automatically generated by MyBatis Generator, do not modify.-->
          <!--This element was generated on Sun Mar 31 11:54:35 CST 2019.-->
        <!--&ndash;&gt;-->
        <!--<id column="id" jdbcType="INTEGER" property="id" />-->
        <!--<result column="goods" jdbcType="VARCHAR" property="goods" />-->
        <!--<result column="price" jdbcType="DOUBLE" property="price" />-->
        <!--<result column="create_time" jdbcType="DATE" property="createTime" />-->
        <!--<result column="control" jdbcType="INTEGER" property="control" />-->
    <!--</resultMap>-->
    <!--parameterType(输入类型)、resultType(输出类型)-->
    <insert id="saveQg" parameterType="com.example.demo.model.Qg">
        insert into TB_QG
        (user_id, goods_id,`status`)
        VALUES
        (#{userId},#{goodsId},#{status})
    </insert>
<!--查询抢购状态不等于锁定库存和成功支付、则不能抢-->
    <select id="queryQgCount" parameterType="int" resultType="int">
        select count(*) from TB_QG where (`status` = 0 OR `status` = 1) and user_id = #{userId}
    </select>

</mapper>